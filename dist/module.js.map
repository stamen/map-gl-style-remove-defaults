{"mappings":";;;ACEA,GAAA,CAAMG,0CAAoB,IAAIC,KAAD,EAAQC,eAAR,GAA4B,CAAzD;IACE,MAAA,CAAOC,MAAM,CAACC,WAAP,CACLD,MAAM,CAACE,OAAP,CAAeJ,KAAf,EACGK,MADH,EACU,IAAA,GAAkB,CAF9B;QAE8B,GAAA,EAAhBC,GAAD,EAAMC,KAAN,IAAiB,IAAA;QACxB,EAAA,GAAKN,eAAe,CAACO,cAAhB,CAA+BF,GAA/B,GAAqC,MAAA,CAAO,IAAP;QAC1C,MAAA,CAAOC,KAAK,KAAKN,eAAe,CAACK,GAAD,EAAMG,OAAtC;IACD,CAJH;AAMH,CARD;AAUA,GAAA,CAAMC,yCAAmB,IAAGC,KAAK,GAAI,CAArC;IACE,GAAA,CAAMC,QAAQ,GAAGb,0CAAoB,CAACY,KAAD,EAAQb,aAAS,CAAC,CAAD;IAEtD,EAAA,EAAIa,KAAK,CAACE,MAAV,EACED,QAAQ,CAACC,MAAT,GAAkBd,0CAAoB,CACpCY,KAAK,CAACE,MAD8B,EAEpCf,aAAS,CAAA,CAAA,SAAA,MAAA,CAAWa,KAAK,CAACG,IAAjB;IAIb,EAAA,EAAIH,KAAK,CAACI,KAAV,EACEH,QAAQ,CAACG,KAAT,GAAiBhB,0CAAoB,CACnCY,KAAK,CAACI,KAD6B,EAEnCjB,aAAS,CAAA,CAAA,QAAA,MAAA,CAAUa,KAAK,CAACG,IAAhB;IAIb,MAAA,CAAOF,QAAP;AACD,CAlBD;AAoBA,GAAA,CAAMI,wCAAkB,IAAGC,MAAM,GAAI,CAArC;IACE,MAAA,CAAOlB,0CAAoB,CAACkB,MAAD,EAASnB,aAAS,CAAC,CAAD;AAC9C,CAFD;AAIA,GAAA,CAAMoB,0CAAoB,IAAGD,MAAM,GAAI,CAAvC;IACE,MAAA,CAAOlB,0CAAoB,CAACkB,MAAD,EAASnB,aAAS,CAAA,CAAA,SAAA,MAAA,CAAWmB,MAAM,CAACH,IAAlB;AAC9C,CAFD;IAIA,wCAgBC,IAhBcK,KAAK,GAAI,CAAxB;IACE,GAAA,CAAMC,QAAQ,GAAGJ,wCAAkB,CAACG,KAAD;IAEnC,EAAA,EAAIA,KAAK,CAACE,MAAV,EACED,QAAQ,CAACC,MAAT,GAAkBF,KAAK,CAACE,MAAN,CAAaC,GAAb,CAAiBZ,yCAAjB;IAGpB,EAAA,EAAIS,KAAK,CAACI,OAAV,EACEH,QAAQ,CAACG,OAAT,GAAmBrB,MAAM,CAACC,WAAP,CACjBD,MAAM,CAACE,OAAP,CAAee,KAAK,CAACI,OAArB,EAA8BD,GAA9B,EAAkC,KAAA,GAAmB,CADvDF;QACuD,GAAA,EAAjBI,IAAD,EAAOjB,KAAP,IAAkB,KAAA;QACnD,MAAA,CAAO,CAACiB;YAAAA,IAAD;YAAON,0CAAoB,CAACX,KAAD;QAA3B,CAAP;IACD,CAFD;IAMJ,MAAA,CAAOa,QAAP;AACD,CAhBD","sources":["src/index.js","src/lib/remove-defaults.js"],"sourcesContent":["import removeDefaults from \"./lib/remove-defaults\";\n\nexport { removeDefaults };\n","import { latest as reference } from \"@mapbox/mapbox-gl-style-spec\";\n\nconst removeObjectDefaults = (input, objectReference) => {\n  return Object.fromEntries(\n    Object.entries(input)\n      .filter(([key, value]) => {\n        if (!objectReference.hasOwnProperty(key)) return true;\n        return value !== objectReference[key].default;\n      })\n  );\n};\n\nconst removeLayerDefaults = layer => {\n  const newLayer = removeObjectDefaults(layer, reference['layer']);\n\n  if (layer.layout) {\n    newLayer.layout = removeObjectDefaults(\n      layer.layout,\n      reference[`layout_${layer.type}`]\n    );\n  }\n\n  if (layer.paint) {\n    newLayer.paint = removeObjectDefaults(\n      layer.paint,\n      reference[`paint_${layer.type}`]\n    );\n  }\n\n  return newLayer;\n}\n\nconst removeRootDefaults = source => {\n  return removeObjectDefaults(source, reference['$root']);\n};\n\nconst removeSourceDefaults = source => {\n  return removeObjectDefaults(source, reference[`source_${source.type}`]);\n};\n\nexport default style => {\n  const newStyle = removeRootDefaults(style);\n\n  if (style.layers) {\n    newStyle.layers = style.layers.map(removeLayerDefaults);\n  }\n\n  if (style.sources) {\n    newStyle.sources = Object.fromEntries(\n      Object.entries(style.sources).map(([name, value]) => {\n        return [name, removeSourceDefaults(value)];\n      })\n    );\n  }\n\n  return newStyle;\n};\n"],"names":["removeDefaults","latest","reference","removeObjectDefaults","input","objectReference","Object","fromEntries","entries","filter","key","value","hasOwnProperty","default","removeLayerDefaults","layer","newLayer","layout","type","paint","removeRootDefaults","source","removeSourceDefaults","style","newStyle","layers","map","sources","name"],"version":3,"file":"module.js.map","sourceRoot":"../"}