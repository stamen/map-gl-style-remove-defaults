{"mappings":";;;;;;;;S,oC,C,G,E,C,E,C;I,M,C,qC,C,G,K,2C,C,G,E,C,K,iD,C,G,E,C,K,sC;A,C;S,sC,G,C;I,K,C,G,C,S,C,C;A,C;S,iD,C,C,E,M,E,C;I,E,G,C,E,M;I,E,E,M,C,C,K,C,S,M,C,uC,C,C,E,M;I,G,C,C,G,M,C,S,C,Q,C,I,C,C,E,K,C,C,E,E;I,E,E,C,K,C,W,C,C,W,E,C,G,C,C,W,C,I;I,E,E,C,K,C,Q,C,K,C,M,M,C,K,C,I,C,C;I,E,E,C,K,C,yD,I,C,C,G,M,C,uC,C,C,E,M;A,C;S,uC,C,G,E,G,E,C;I,E,E,G,I,I,I,G,G,G,C,M,E,G,G,G,C,M;I,G,C,G,C,C,G,C,E,I,G,G,C,K,C,G,G,C,G,G,E,C,G,I,C,C,I,G,C,C;I,M,C,I;A,C;S,2C,C,G,E,C,E,C;I,G,C,E,G,G,I,I,G,I,G,M,C,M,K,C,c,G,C,M,C,Q,K,G,C,C;I,E,E,E,I,I,E,M;I,G,C,I,G,C,C;I,G,C,E,G,I;I,G,C,E,G,K;I,G,C,E,E,E;I,G,C,C;Q,G,C,E,G,E,C,I,C,G,K,E,I,E,G,E,C,I,I,I,G,E,G,I,C,C;Y,I,C,I,C,E,C,K;Y,E,E,C,I,I,C,M,K,C,E,K;Q,C;I,C,C,K,E,G,E,C;Q,E,G,I;Q,E,G,G;I,C,Q,C;Q,G,C,C;Y,E,G,E,I,E,C,C,Y,I,E,E,C,C;Q,C,Q,C;Y,E,E,E,E,K,C,E;Q,C;I,C;I,M,C,I;A,C;S,qC,C,G,E,C;I,E,E,K,C,O,C,G,G,M,C,G;A,C;ACEA,GAAA,CAAMG,0CAAoB,GAAG,QAAA,CAAvBA,oBAAuB,CAACC,KAAD,EAAQC,eAAR,EAA4B,CAAzD;IACE,MAAA,CAAOC,MAAM,CAACC,WAAP,CACLD,MAAM,CAACE,OAAP,CAAeJ,KAAf,EACGK,MADH,CACU,QAAA,CAAA,IAAA,EAAkB,CAF9B;QAE8B,GAAA,CAAA,KAAA,GAAA,oCAAA,CAAA,IAAA,EAAA,CAAA,GAAhBC,GAAgB,GAAA,KAAA,CAAA,CAAA,GAAXC,KAAW,GAAA,KAAA,CAAA,CAAA;QACxB,EAAA,GAAKN,eAAe,CAACO,cAAhB,CAA+BF,GAA/B,GAAqC,MAAA,CAAO,IAAP;QAC1C,MAAA,CAAOC,KAAK,KAAKN,eAAe,CAACK,GAAD,EAAf,CAAA;IAClB,CAJH;AAMH,CARD;AAUA,GAAA,CAAMG,yCAAmB,GAAG,QAAA,CAAtBA,mBAAsB,CAAAC,KAAK,EAAI,CAArC;IACE,GAAA,CAAMC,QAAQ,GAAGZ,0CAAoB,CAACW,KAAD,EAAQZ,qCAAS,CAAC,CAAD;IAEtD,EAAA,EAAIY,KAAK,CAACE,MAAV,EACED,QAAQ,CAACC,MAAT,GAAkBb,0CAAoB,CACpCW,KAAK,CAACE,MAD8B,EAEpCd,qCAAS,CAAA,CAAA,SAAA,MAAA,CAAWY,KAAK,CAACG,IAAjB;IAIb,EAAA,EAAIH,KAAK,CAACI,KAAV,EACEH,QAAQ,CAACG,KAAT,GAAiBf,0CAAoB,CACnCW,KAAK,CAACI,KAD6B,EAEnChB,qCAAS,CAAA,CAAA,QAAA,MAAA,CAAUY,KAAK,CAACG,IAAhB;IAIb,MAAA,CAAOF,QAAP;AACD,CAlBD;AAoBA,GAAA,CAAMI,wCAAkB,GAAG,QAAA,CAArBA,kBAAqB,CAAAC,MAAM,EAAI,CAArC;IACE,MAAA,CAAOjB,0CAAoB,CAACiB,MAAD,EAASlB,qCAAS,CAAC,CAAD;AAC9C,CAFD;AAIA,GAAA,CAAMmB,0CAAoB,GAAG,QAAA,CAAvBA,oBAAuB,CAAAD,MAAM,EAAI,CAAvC;IACE,MAAA,CAAOjB,0CAAoB,CAACiB,MAAD,EAASlB,qCAAS,CAAA,CAAA,SAAA,MAAA,CAAWkB,MAAM,CAACH,IAAlB;AAC9C,CAFD;IAIA,wCAgBC,GAhBc,QAAA,CAAAK,KAAK,EAAI,CAAxB;IACE,GAAA,CAAMC,QAAQ,GAAGJ,wCAAkB,CAACG,KAAD;IAEnC,EAAA,EAAIA,KAAK,CAACE,MAAV,EACED,QAAQ,CAACC,MAAT,GAAkBF,KAAK,CAACE,MAAN,CAAaC,GAAb,CAAiBZ,yCAAjB;IAGpB,EAAA,EAAIS,KAAK,CAACI,OAAV,EACEH,QAAQ,CAACG,OAAT,GAAmBpB,MAAM,CAACC,WAAP,CACjBD,MAAM,CAACE,OAAP,CAAec,KAAK,CAACI,OAArB,EAA8BD,GAA9B,CAAkC,QAAA,CAAA,KAAA,EAAmB,CADvDF;QACuD,GAAA,CAAA,KAAA,GAAA,oCAAA,CAAA,KAAA,EAAA,CAAA,GAAjBI,IAAiB,GAAA,KAAA,CAAA,CAAA,GAAXhB,KAAW,GAAA,KAAA,CAAA,CAAA;QACnD,MAAA,CAAO,CAACgB;YAAAA,IAAD;YAAON,0CAAoB,CAACV,KAAD;QAA3B,CAAP;IACD,CAFD;IAMJ,MAAA,CAAOY,QAAP;AACD,CAhBD","sources":["src/index.js","src/lib/remove-defaults.js"],"sourcesContent":["import removeDefaults from \"./lib/remove-defaults\";\n\nexport { removeDefaults };\n","import { latest as reference } from \"@mapbox/mapbox-gl-style-spec\";\n\nconst removeObjectDefaults = (input, objectReference) => {\n  return Object.fromEntries(\n    Object.entries(input)\n      .filter(([key, value]) => {\n        if (!objectReference.hasOwnProperty(key)) return true;\n        return value !== objectReference[key].default;\n      })\n  );\n};\n\nconst removeLayerDefaults = layer => {\n  const newLayer = removeObjectDefaults(layer, reference['layer']);\n\n  if (layer.layout) {\n    newLayer.layout = removeObjectDefaults(\n      layer.layout,\n      reference[`layout_${layer.type}`]\n    );\n  }\n\n  if (layer.paint) {\n    newLayer.paint = removeObjectDefaults(\n      layer.paint,\n      reference[`paint_${layer.type}`]\n    );\n  }\n\n  return newLayer;\n}\n\nconst removeRootDefaults = source => {\n  return removeObjectDefaults(source, reference['$root']);\n};\n\nconst removeSourceDefaults = source => {\n  return removeObjectDefaults(source, reference[`source_${source.type}`]);\n};\n\nexport default style => {\n  const newStyle = removeRootDefaults(style);\n\n  if (style.layers) {\n    newStyle.layers = style.layers.map(removeLayerDefaults);\n  }\n\n  if (style.sources) {\n    newStyle.sources = Object.fromEntries(\n      Object.entries(style.sources).map(([name, value]) => {\n        return [name, removeSourceDefaults(value)];\n      })\n    );\n  }\n\n  return newStyle;\n};\n"],"names":["removeDefaults","latest","reference","removeObjectDefaults","input","objectReference","Object","fromEntries","entries","filter","key","value","hasOwnProperty","removeLayerDefaults","layer","newLayer","layout","type","paint","removeRootDefaults","source","removeSourceDefaults","style","newStyle","layers","map","sources","name"],"version":3,"file":"main.js.map","sourceRoot":"../"}